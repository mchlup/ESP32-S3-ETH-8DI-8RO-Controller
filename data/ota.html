<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>OTA update</title>
  <link rel="stylesheet" href="/css/base.css" />
</head>
<body>
  <div style="max-width:980px;margin:20px auto;padding:16px">
    <div class="card">
      <div class="cardHead">
        <div>
          <div class="cardTitle">OTA aktualizace</div>
          <div class="muted">Webový upload firmware (pokud ho firmware podporuje). Pokud upload selže, použij ArduinoOTA z IDE.</div>
        </div>
        <div class="right"><a class="link" href="/">← Zpět do UI</a></div>
      </div>

      <div class="table">
        <div class="note" style="margin-top:0">
          <div><strong>Firmware:</strong> standardně se používá endpoint <code>/update</code> (multipart/form-data).</div>
          <div style="margin-top:6px"><strong>FS image:</strong> volitelně <code>/updatefs</code>, pokud je v fw implementováno.</div>
        </div>

        <div class="sep"></div>

        <form class="form" method="POST" action="/update" enctype="multipart/form-data">
          <div class="row">
            <div class="field">
              <label>Firmware (.bin)</label>
              <input type="file" name="update" accept=".bin,application/octet-stream" required />
            </div>
          </div>
          <button class="btn" type="submit">Nahrát firmware</button>
          <div class="muted">Po odeslání vyčkej na restart zařízení.</div>
        </form>

        <div class="sep"></div>

        <form class="form" method="POST" action="/updatefs" enctype="multipart/form-data">
          <div class="row">
            <div class="field">
              <label>LittleFS image (.bin)</label>
              <input type="file" name="update" accept=".bin,application/octet-stream" />
            </div>
          </div>
          <button class="btn" type="submit">Nahrát FS image</button>
          <div class="muted">Pouze pokud fw podporuje update souborového systému.</div>
        </form>
      </div>
    </div>
  </div>
</body>
</html>
