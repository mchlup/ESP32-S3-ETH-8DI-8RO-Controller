<section class="page" id="page-aku_heater">
        <div class="summaryBar">
          <div class="summaryMain">
            <div class="summaryTitle">
              <span class="summaryIcon">⚡</span>
              <div>
                <div class="h2">AKU heater</div>
                <div class="muted">Elektrický dohřev akumulace.</div>
              </div>
            </div>
            <span class="chip" id="chip-aku_heater">—</span>
          </div>
          <div class="summaryActions">
            <div class="summaryToggle" data-mount="akuHeaterEnabled"></div>
            <span class="dirty" id="dirty-aku_heater" hidden>Neuloženo</span>
            <div data-mount="btnSaveAkuHeater"></div>
            <button class="btn ghost" id="btnReloadAkuHeater" type="button">Obnovit</button>
          </div>
        </div>
        <div class="grid2">
          <details class="helpDrawer">
            <summary>Nápověda</summary>
            <div class="helpBody">
              <ul class="helpList">
                <li>Relé dohřevu je role <b>heater_aku</b>.</li>
                <li>Teploty AKU vycházejí z rolí <b>tankTop/mid/bottom</b>.</li>
              </ul>
              <div class="btnRow">
                <a class="btn ghost" href="#iofunc">Upravit ve Funkce I/O</a>
                <a class="btn ghost" href="#temps">Upravit v Teploměry</a>
              </div>
            </div>
          </details>
          <div class="card">
            <div class="cardHead">
              <div>
                <div class="cardTitle">Použité přiřazení</div>
                <div class="muted">Role → konkrétní vstupy/výstupy</div>
              </div>
            </div>
            <div class="pad">
              <ul class="roleList" id="akuHeaterRoleList"></ul>
            </div>
          </div>
        </div>
        <details class="accordion" open>
          <summary>Základní parametry</summary>
          <div class="pad" id="mount-aku_heater">
<div class="tabPage" id="cfg-aku_heater">
        <div class="card">
          <div class="cardHead">
            <div>
              <div class="cardTitle">AKU heater</div>
              <div class="muted">Řízení elektrického dohřevu akumulace</div>
            </div>
            <div class="right">
              <button class="btn" id="btnSaveAkuHeater">Uložit</button>
            </div>
          </div>

          <div class="row stack">
            <div class="field">
              <label>Aktivní</label>
              <label class="switch"><input id="akuHeaterEnabled" type="checkbox"><span class="slider"></span></label>
            </div>
            <div class="field role-hidden">
              <label>Relé (výstup)</label>
              <select id="akuHeaterRelay"></select>
            </div>
            <div class="field">
              <label>Režim</label>
              <select id="akuHeaterMode">
                <option value="manual">Manuální</option>
                <option value="schedule">Časová okna</option>
                <option value="thermostatic">Termostatický</option>
              </select>
            </div>
            <div class="field">
              <label>Manuální ON/OFF</label>
              <label class="switch"><input id="akuHeaterManualOn" type="checkbox"><span class="slider"></span></label>
            </div>
          </div>

          <div class="row stack mt8">
            <div class="field">
              <label>Cíl AKU top (°C)</label>
              <input id="akuHeaterTargetTopC" type="number" step="0.5" min="20" max="80">
            </div>
            <div class="field">
              <label>Hysteréze (°C)</label>
              <input id="akuHeaterHysteresisC" type="number" step="0.1" min="0" max="10">
            </div>
            <div class="field">
              <label>Max ON (min)</label>
              <input id="akuHeaterMaxOnMin" type="number" step="1" min="1" max="600">
            </div>
            <div class="field">
              <label>Min OFF (min)</label>
              <input id="akuHeaterMinOffMin" type="number" step="1" min="1" max="600">
            </div>
          </div>

          <div class="mt12">
            <div class="small muted">Časová okna (pokud režim = schedule)</div>
            <div id="akuHeaterWindows"></div>
            <button class="btn ghost mini" id="akuHeaterAddWindow" type="button">Přidat okno</button>
          </div>
        </div>
      </div>
</div>
              <div class="muted">Řízení elektrického dohřevu akumulace</div>
            </div>
            <div class="right">
              <button class="btn" id="btnSaveAkuHeater">Uložit</button>
            </div>
          </div>

          <div class="row stack">
            <div class="field">
              <label>Aktivní</label>
              <label class="switch"><input id="akuHeaterEnabled" type="checkbox"><span class="slider"></span></label>
            </div>
            <div class="field role-hidden">
              <label>Relé (výstup)</label>
              <select id="akuHeaterRelay"></select>
            </div>
            <div class="field">
              <label>Režim</label>
              <select id="akuHeaterMode">
                <option value="manual">Manuální</option>
                <option value="schedule">Časová okna</option>
                <option value="thermostatic">Termostatický</option>
              </select>
            </div>
            <div class="field">
              <label>Manuální ON/OFF</label>
              <label class="switch"><input id="akuHeaterManualOn" type="checkbox"><span class="slider"></span></label>
            </div>
          </div>

          <div class="row stack mt8">
            <div class="field">
              <label>Cíl AKU top (°C)</label>
              <input id="akuHeaterTargetTopC" type="number" step="0.5" min="20" max="80">
            </div>
            <div class="field">
              <label>Hysteréze (°C)</label>
              <input id="akuHeaterHysteresisC" type="number" step="0.1" min="0" max="10">
            </div>
            <div class="field">
              <label>Max ON (min)</label>
              <input id="akuHeaterMaxOnMin" type="number" step="1" min="1" max="600">
            </div>
            <div class="field">
              <label>Min OFF (min)</label>
              <input id="akuHeaterMinOffMin" type="number" step="1" min="1" max="600">
            </div>
          </div>

          <div class="mt12">
            <div class="small muted">Časová okna (pokud režim = schedule)</div>
            <div id="akuHeaterWindows"></div>
            <button class="btn ghost mini" id="akuHeaterAddWindow" type="button">Přidat okno</button>
          </div>
        </div>
      </div>

      <div class="ioGrid">
        <div class="ioRow">
          <div class="ioLabel">Povolit</div>
          <div class="ioValue">
            <label class="switch"><input type="checkbox" id="otEnabled"><span class="slider"></span></label>
          </div>
        </div>

        <div class="ioRow">
          <div class="ioLabel">Režim</div>
          <div class="ioValue">
            <select id="otMode">
              <option value="off">Vypnuto</option>
              <option value="manual">Manuální setpoint</option>
              <option value="equitherm">Ekviterm → setpoint</option>
            </select>
          </div>
        </div>

        <div class="ioRow">
          <div class="ioLabel">GPIO (RX/TX)</div>
          <div class="ioValue">
            <div class="row2">
              <div><label class="mini">IN (RX)</label><input id="otInPin" type="number" min="-1" max="48" step="1" placeholder="-1 = nevýběr"></div>
              <div><label class="mini">OUT (TX)</label><input id="otOutPin" type="number" min="-1" max="48" step="1" placeholder="-1 = nevýběr"></div>
            </div>
          </div>
        </div>

        <div class="ioRow">
          <div class="ioLabel">Polling</div>
          <div class="ioValue">
            <div class="row2">
              <div><label class="mini">Interval (ms)</label><input id="otPollMs" type="number" min="200" max="10000" step="100"></div>
              <div><label class="mini">CH enable</label>
                <label class="switch"><input type="checkbox" id="otChEnable"><span class="slider"></span></label>
              </div>
            </div>
          </div>
        </div>

        <div class="ioRow">
          <div class="ioLabel">Setpoint (manuál)</div>
          <div class="ioValue">
            <input id="otManualSetpoint" type="number" min="10" max="90" step="0.5">
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="cardHead">
        <div>
          <div class="cardTitle">Stav</div>
          <div class="muted">Diagnostika komunikace</div>
        </div>
      </div>
      <div class="pad" id="otStatus"></div>
    </div>
  </div>
</div>

  </div>
        </details>
        <details class="accordion">
          <summary>Pokročilé</summary>
          <div class="pad muted">Pokročilé volby dohřevu nejsou aktivní.</div>
        </details>
      </section>